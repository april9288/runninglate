{"version":3,"sources":["db/config.js","components/Header/Header.js","components/Register/Register.js","components/Preview/Preview.js","components/EmailRequest/EmailRequest.js","components/Footer/Footer.js","components/Thankyou/Thankyou.js","components/Main/Main.js","App.js","index.js"],"names":["firebase","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","db","auth","Header","_ref","displayName","handleSignout","react_default","a","createElement","className","onClick","Register","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleSubmit","asyncToGenerator","regenerator_default","mark","_callee","e","value","manupulatedUserEmail","wrap","_context","prev","next","preventDefault","target","company","user","email","split","ref","push","sent","handleRegisterUser","setState","error","t0","stop","_x","apply","arguments","state","onSubmit","name","type","autoFocus","Component","Preview","modifiedSituation","situation","concat","EmailRequest","formUpdate","userMoreInfo","handleChange","defineProperty","request","emailFrom","emailTo","handleRequestSubmit","id","onChange","components_Preview_Preview","Footer","href","rel","style","color","Thankyou","response","handleDeleteUserInfo","Main","retrieveUserInfo","modifiedUserInfo","once","snapshot","dataBucket","forEach","childSnapShot","objectSpread","key","val","handleUpdate","sendRequestToServer","_ref2","_callee2","_context2","update","console","log","_ref3","_callee3","_context3","axios","post","data","status","serverResponse","_x2","_callee4","_context4","remove","off","signout","components_Header_Header","undefined","components_Register_Register","components_EmailRequest_EmailRequest","components_Thankyou_Thankyou","components_Footer_Footer","App","handleAuth","onAuthStateChanged","isSignedIn","firebaseUser","handleVisitor","visitor","signOut","uiConfig","signInFlow","signInOptions","GoogleAuthProvider","PROVIDER_ID","FacebookAuthProvider","GithubAuthProvider","EmailAuthProvider","callbacks","signInSuccessWithAuthResult","components_Main_Main","StyledFirebaseAuth_default","firebaseAuth","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.b305b7be.chunk.js","sourcesContent":["  import * as firebase from 'firebase'\r\n  const config = {\r\n    apiKey: process.env.REACT_APP_APIKEY,\r\n    authDomain: process.env.REACT_APP_AUTHDOMAIN,\r\n    databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n    projectId: process.env.REACT_APP_PROJECTID,\r\n    storageBucket: process.env.REACT_APP_STORAGEBUCKET,\r\n    messagingSenderId: process.env.REACT_APP_MESSAGINGSENDERID\r\n  };\r\n\r\n  firebase.initializeApp(config);\r\n\r\n  const db = firebase.database()\r\n  const auth = firebase.auth\r\n\r\n  export {db , auth}","import React from 'react'\r\nimport './Header.css';\r\n\r\nconst Header = ({displayName, handleSignout}) => {\r\n\treturn (\r\n\t\t<section className = \"header-section\">\r\n\t\t\t<p className = \"header-welcome\">Welcome {displayName}</p>\r\n\t\t\t<button onClick={handleSignout}>Logout</button>\r\n\t\t</section>\r\n\t\t)\r\n}\r\n\r\nexport default Header;\r\n\r\n","import React, { Component } from 'react';\r\nimport { db } from '../../db/config';\r\nimport './Register.css';\r\n\r\nclass Register extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state={\r\n      error: null\r\n    }\r\n  }\r\n\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n\r\n    //this is user input\r\n    let { value } = e.target.company\r\n    let manupulatedUserEmail = this.props.user.email.split('.')[0]\r\n\r\n    try {\r\n      const firebaseResponse = await db.ref(manupulatedUserEmail).push({\r\n        company: value\r\n      })\r\n      if (firebaseResponse) {\r\n        this.props.handleRegisterUser()\r\n      } else {\r\n        this.setState({error: e})\r\n      }\r\n    } catch(e) {\r\n      this.setState({error: e})\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <section className=\"register-section\">\r\n          <p>Please register your company's email address</p>\r\n          <form className=\"register-form\" onSubmit={this.handleSubmit}> \r\n            <input name=\"company\" className=\"register-input\" type=\"email\" autoFocus={true}/>\r\n          </form>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Register;\r\n\r\n","import React from 'react'\r\nimport './Preview.css';\r\n\r\nconst Preview = ({ user , situation }) => {\r\n\r\n\tlet modifiedSituation\r\n\tif (situation === \"traffic\") {\r\n\t\tmodifiedSituation = \"stuck in heavy traffic\"\r\n\t} else if (situation === \"accident\") {\r\n\t\tmodifiedSituation = \"into a car accident\"\r\n\t} else if (situation === \"hurricane\") {\r\n\t\tmodifiedSituation = \"stuck in hurricane\"\r\n\t} else if (situation === \"police\") {\r\n\t\tmodifiedSituation = \"pulled over by the police\"\r\n\t}\r\n\r\n\treturn (\r\n\t\t<section className = \"preview-section\">\r\n\t\t\t<p>{`Hello. This is ${user.displayName}.`}</p>\r\n\t\t\t<p>{`I'm so sorry. I'm on my way in now, but I got ${modifiedSituation}. My apologies again.`}</p>\r\n\t\t\t<p>It shouldn’t be much longer. Thank you.</p>\r\n\t\t\t<p>{user.displayName}</p>\r\n\t\t\t<p>{user.email}</p>\r\n\t\t</section>\r\n\t\t)\r\n}\r\n\r\nexport default Preview;\r\n\r\n","import React, { Component } from 'react';\r\nimport './EmailRequest.css';\r\nimport Preview from '../Preview/Preview';\r\n\r\nclass EmailRequest extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state={\r\n      user: '',\r\n      company: '',\r\n      situation : 'traffic'\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.formUpdate()\r\n  }\r\n\r\n  formUpdate = () => {\r\n    this.setState({\r\n      user : this.props.user.email,\r\n      company : this.props.userMoreInfo.company\r\n    })\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    this.setState({[e.target.name] : e.target.value})\r\n  }\r\n\r\n  handleSubmit = (e) => { \r\n    e.preventDefault()\r\n    let request = {\r\n      user: this.props.user.displayName,\r\n      emailFrom: this.state.user,\r\n      emailTo: this.state.company,\r\n      situation: this.state.situation\r\n    }\r\n    this.props.handleRequestSubmit(request)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <section className=\"email-request-section\">\r\n        <form onSubmit={this.handleSubmit} className=\"email-request-form\">\r\n          <div className=\"email-request-form-div\">From : <input type=\"email\" name=\"user\" id=\"user_email\" value={this.state.user} onChange={this.handleChange}/></div>\r\n          <div className=\"email-request-form-div\">To : <input type=\"email\" name=\"company\" id=\"compnay_email\" value={this.state.company} onChange={this.handleChange}/></div>\r\n          <div className=\"email-request-form-div\">Situation : \r\n            <select className=\"email-request-situation\" name=\"situation\" id=\"user_situation\" value={this.state.situation} onChange={this.handleChange}>\r\n              <option value=\"traffic\"> heavy traffic </option>\r\n              <option value=\"accident\"> car accident </option>\r\n              <option value=\"hurricane\"> hurricane </option>\r\n              <option value=\"police\"> police </option>\r\n            </select>\r\n          </div>\r\n          <Preview user={this.props.user} situation={this.state.situation}/>\r\n          <button id=\"email-request-form-submit\" type=\"submit\">Submit</button>\r\n        </form>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EmailRequest;\r\n\r\n","import React from 'react'\r\nimport './Footer.css'\r\n\r\nconst Footer = () => {\r\n\treturn (\r\n\t\t<section className=\"footer-section\">\r\n\t\t\t<div>\r\n\t\t\t\t<a href=\"https://github.com/april9288/runninglate\" rel=\"noopener noreferrer\" target=\"_blank\"><i className=\"fab fa-github-square\"></i></a>\r\n\t\t\t\t<a href=\"https://www.linkedin.com/in/james-kim-teamplayer\" rel=\"noopener noreferrer\" target=\"_blank\"><i className=\"fab fa-linkedin\"></i></a>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<p style={{color:\"white\"}}>&copy; 2019 James Jongho Kim All Rights Reserved</p>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\t\t)\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react'\r\nimport './Thankyou.css';\r\n\r\nconst Thankyou = ({response,handleDeleteUserInfo,handleSignout}) => {\r\n  return (\r\n    <section className = \"thankyou-section\">\r\n      {\r\n        (response === 'success')\r\n        ? (\r\n          <div>\r\n            <p>Thank you </p>\r\n            <button onClick={handleSignout}>Logout</button>\r\n            <button onClick={handleDeleteUserInfo}>Delete user info and logout</button>\r\n          </div>\r\n          )\r\n        : (\r\n          <div>\r\n            <p>Sorry... Bad request</p>\r\n            <button onClick={handleSignout}>Logout</button>\r\n            <button onClick={handleDeleteUserInfo}>Delete user info and logout</button>\r\n          </div>\r\n          )\r\n      }\r\n    </section>\r\n    )\r\n}\r\n\r\nexport default Thankyou;\r\n\r\n","import React, { Component } from 'react';\r\nimport { db } from '../../db/config';\r\nimport './Main.css';\r\n\r\nimport axios from 'axios';\r\n\r\nimport Header from '../Header/Header';\r\nimport Register from '../Register/Register';\r\nimport EmailRequest from '../EmailRequest/EmailRequest';\r\nimport Footer from '../Footer/Footer';\r\nimport Thankyou from '../Thankyou/Thankyou';\r\n\r\nclass Main extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state={\r\n      userMoreInfo: null,\r\n      error: null,\r\n      serverResponse: null\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.retrieveUserInfo()\r\n  }\r\n\r\n  //this function will retrieve user info from Firebase\r\n  //if the user is new, this function will return undefined\r\n  retrieveUserInfo = async () => {\r\n\r\n    try{\r\n\r\n      //user will hold a basic user info \r\n      //will look like ... { displayName: \"someone\" , email: \"some@thing.com\"}\r\n      let { user } = this.props\r\n\r\n      //will look like ... some@thing\r\n      //since names of Firebase DB reference cannot contain special keys such as '.' or '$'\r\n      //so the email address should be split by '.'\r\n      let modifiedUserInfo = user.email.split('.')[0]\r\n\r\n      //will return if there is a more info for the user\r\n      //the more info will look like ... { id : '-abcdefg' , company : 'com@pany.com' } \r\n      await db.ref(modifiedUserInfo)\r\n      .once('value', (snapshot)=> {\r\n\r\n        const dataBucket = []\r\n\r\n        //snapshot is an array that holds a bunch of arrays inside\r\n        //all I need is only the first child array\r\n        snapshot.forEach(childSnapShot => {\r\n          dataBucket.push({\r\n            id:childSnapShot.key,\r\n            ...childSnapShot.val()\r\n          })\r\n        })\r\n\r\n          //it could be either a meaningful data or undefined\r\n          this.setState({ userMoreInfo : dataBucket[0] })          \r\n        })\r\n\r\n    }catch(e){\r\n      //if there is any error, then...\r\n      this.setState({ error : e })      \r\n    }\r\n  }\r\n\r\n  handleRegisterUser = () => {\r\n    this.retrieveUserInfo()\r\n  }\r\n\r\n  handleRequestSubmit = (request) => {\r\n    //check if the registered company email is different from the request\r\n    if (request.emailTo !== this.state.userMoreInfo.company) {\r\n      this.handleUpdate(request)\r\n    }\r\n    this.sendRequestToServer(request)\r\n  }\r\n\r\n  handleUpdate = async (request) => {\r\n    let { user } = this.props\r\n    let modifiedUserInfo = user.email.split('.')[0]\r\n    let { id } = this.state.userMoreInfo\r\n    let { emailTo } = request\r\n\r\n    try{\r\n      await db.ref(`${modifiedUserInfo}/${id}`).update({\r\n        company : emailTo\r\n      })\r\n    } catch(e) {\r\n      console.log(\"update error\")\r\n    }\r\n  }\r\n\r\n  sendRequestToServer = async (request) => {\r\n    try{\r\n      let axios_response = await axios.post('https://runninglate.herokuapp.com/email', request)\r\n      if (axios_response.data.status === 202) {\r\n        this.setState({serverResponse: \"success\"})\r\n      } else {\r\n        this.setState({serverResponse: \"bad request\"})\r\n      }\r\n    }catch(e) {\r\n      this.setState({serverResponse: \"bad request\"})\r\n    }\r\n  }\r\n\r\n  handleDeleteUserInfo = async () => {\r\n    let { user } = this.props\r\n    let modifiedUserInfo = user.email.split('.')[0]\r\n    await db.ref(modifiedUserInfo).remove()  \r\n    this.handleSignout()\r\n  }\r\n\r\n  handleSignout = () => {\r\n    //disconnect with Firebase DB\r\n    let { user } = this.props\r\n    let modifiedUserInfo = user.email.split('.')[0]\r\n    db.ref(modifiedUserInfo).off()\r\n\r\n    //disconnect with Firebase Auth\r\n    this.props.signout()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <section className=\"main-section\">\r\n        <section className=\"main-section-2\">\r\n          <Header displayName={this.props.user.displayName} handleSignout={this.handleSignout}/>\r\n            <section>\r\n            {\r\n              (this.state.userMoreInfo === undefined)\r\n              ? <Register user={this.props.user} handleRegisterUser={this.handleRegisterUser}/>\r\n              : (this.state.userMoreInfo && !this.state.serverResponse) \r\n              ? <EmailRequest user={this.props.user} userMoreInfo={this.state.userMoreInfo} handleRequestSubmit={this.handleRequestSubmit}/>\r\n              : (this.state.serverResponse)\r\n              && <Thankyou response={this.state.serverResponse} handleDeleteUserInfo={this.handleDeleteUserInfo} handleSignout={this.handleSignout}/>\r\n            }\r\n            </section>\r\n        </section>\r\n      <Footer />\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Main;","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport { auth , db } from './db/config';\r\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\r\nimport Main from './components/Main/Main';\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state={\r\n      isSignedIn: false,\r\n      firebaseUser: null,\r\n      visitor: null\r\n    }\r\n\r\n    //this variable is bound to the App class\r\n    this.uiConfig={\r\n      signInFlow: \"popup\",\r\n      signInOptions: [\r\n        auth.GoogleAuthProvider.PROVIDER_ID,\r\n        auth.FacebookAuthProvider.PROVIDER_ID,\r\n        auth.GithubAuthProvider.PROVIDER_ID,\r\n        auth.EmailAuthProvider.PROVIDER_ID\r\n      ],\r\n      callbacks: {\r\n        signInSuccessWithAuthResult: () => false\r\n      }\r\n    }\r\n  }\r\n\r\n  //will involk handleAuth() function right after React renders render()\r\n  componentDidMount(){\r\n    this.handleAuth()\r\n  }\r\n\r\n  //This function handles user login\r\n  handleAuth = async () => {\r\n    try {\r\n      await auth().onAuthStateChanged( user => {\r\n        if (user) {\r\n          this.setState({ isSignedIn: !!user, firebaseUser: user })\r\n        } else {\r\n          console.log(\"login fail\")\r\n        }\r\n      })\r\n    } catch(e){\r\n      console.log(\"login fail : \", e)\r\n    }\r\n  }\r\n\r\n  //This function handles visitor login\r\n  //will bypass Firebase authentication\r\n  handleVisitor = () => {\r\n    this.setState({isSignedIn: true, firebaseUser: {\r\n      displayName: \"Visitor\",\r\n      email: \"visitor@company.com\"\r\n    },\r\n    visitor : true\r\n    })\r\n  }\r\n\r\n  signout = () => {\r\n    if (this.state.visitor) {\r\n      this.setState({\r\n        isSignedIn: false,\r\n        firebaseUser: null\r\n      })\r\n    } else {\r\n      auth().signOut()\r\n      this.setState({\r\n        isSignedIn: false,\r\n        firebaseUser: null\r\n      })\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    db.ref(\"visitor@company\").remove()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <section className=\"App\">\r\n        {\r\n          (!this.state.isSignedIn)\r\n          ? \r\n          (\r\n          <div className=\"loginPage\">\r\n            <p className=\"loginTitle\">Don't be late!!!</p>\r\n            <StyledFirebaseAuth\r\n              uiConfig={this.uiConfig}\r\n              firebaseAuth={auth()}\r\n            />\r\n            <button className=\"loginVisitor\" onClick={this.handleVisitor}>I'm a visitor</button>\r\n          </div>\r\n          )\r\n          : <Main user={this.state.firebaseUser} signout={this.signout}/>\r\n        }\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}